 {extend name="base/backend"} {block name="js"}
<script
	type="text/javascript"
	src="_JS_/common/admin/userlist.js"></script>
{/block} {block name="css"} {/block} {block name="content"}
<!-- Page content -->
<div
	id="content"
	class="col-md-12">
	<!-- page header -->
	<div class="pageheader">
		<h2>
			<i class="fa fa-tachometer"></i> 会员信息
			<span></span>
		</h2>
		<div class="breadcrumbs">
			<ol class="breadcrumb">
				<li><a href="index.html">HERMES</a></li>
				<li class="active">会员信息</li>
			</ol>
		</div>
	</div>
	<!-- /page header -->

	<!-- content main container -->
	<div class="main">
		<div class="row">
			<div class="col-md-11">
				<section class="tile color transparent-white">

					<div
						class="title-body"
						style="height: 100px;">
						<div class="form-group">
							<label
								for="input01"
								class="col-sm-3 control-label">会员ID</label>
							<div class="col-sm-3">
								<input
									type="text"
									class="form-control"
									id="userid"
									value="{$userId}">
							</div>
						</div>
						<div class="form-group">
							<label
								for="input01"
								class="col-sm-3 control-label">真实姓名</label>
							<div class="col-sm-3">
								<input
									type="text"
									class="form-control"
									id="username"
									value="{$username}">
							</div>
						</div>
						<div class="form-group">
							<label
								for="input01"
								class="col-sm-3 control-label">手机</label>
							<div class="col-sm-3">
								<input
									type="text"
									class="form-control"
									id="telphone"
									value="{$telephone}">
							</div>
						</div>
						<div class="form-group">
							<label
								for="input01"
								class="col-sm-3 control-label">邮箱</label>
							<div class="col-sm-3">
								<input
									type="text"
									class="form-control"
									id="email"
									value="{$email}">
							</div>
						</div>
						<div class="form-group">
							<label
								for="input01"
								class="col-sm-3 control-label">开通时间</label>
							<div class="col-sm-3">
								<input
									type="text"
									class="form-control"
									id="fromtime"
									value="{$fromTime}">
							</div>

							<div class="col-sm-3">
								<input
									type="text"
									class="form-control"
									id="totime"
									value="{$toTime}">
							</div>
						</div>
					</div>
					<div class="tile-widget">
						<button
							type="button"
							class="btn btn-primary"
							id="btn_user_list">搜索</button>
					</div>

					<!-- tile widget -->
					<div class="tile-widget bg-transparent-white-2">

						<!-- tile header -->
						<div class="tile-header">
							<h1>
								<strong>会员信息</strong>
							</h1>
						</div>
						<!-- /tile header -->

						<!-- tile body -->
						<div class="tile-body no-vpadding">
							<table
								class="table table-custom"
								id="userList_table">
								<thead>
									<tr>
										<th style="width: 40px;">
											<input
												style="width: 15px; height: 15px;"
												type="checkbox"
												id="allcheck">
											<label for="allchck2"></label>
										</th>
										<th class="sort-asc">会员ID</th>
										<th class="sort-numeric">真实姓名</th>
										<th class="sort-amount">手机号</th>
										<th class="sort-amount">邮箱</th>
										<th class="sort-amount">会员等级</th>
										<th class="sort-amount">推荐人ID</th>
										<th class="sort-amount">开通人ID</th>
										<!-- changed by Gavin start   model7-->
										<th class="sort-amount">开通时间</th>
										<th class="sort-amount">注册分</th>
										<th class="sort-amount">奖励分</th>
										<th class="sort-amount">万能分</th>
										<th class="sort-amount">重复消费分</th>
										<th class="sort-amount">股数</th>
										<th class="sort-amount">股额</th>
										<th class="sort-amount">购买股价</th>
										<th class="sort-amount">拆分次数</th>
										<th class="sort-amount">剩余静态</th>
										<th class="sort-amount">剩余动态</th>
										<!-- changed by Gavin start   model7 -->
										<td class="text-center">
											<a
												href="#"
												class="check-toggler checked"></a>
										</td>
									</tr>
								</thead>
								<tbody>
									{if condition="empty($pass_data) neq true"} {foreach
									name='pass_data' item='vo'}
									<tr>
										<td>
											<input
												style="width: 15px; height: 15px;"
												type="checkbox"
												name="row-check"
												v-id="{$vo.user_id}" />
										</td>
										<td>{$vo.user_id}</td>
										<td>{$vo.username}</td>
										<td>{$vo.telphone}</td>
										<td>{$vo.email}</td>
										<td>{$vo.user_level}</td>
										<td>{$vo.recommender}</td>
										<td>{$vo.kaitongID}</td>
										<td>{$vo.open_time}</td>
										<td>{$vo.regist_point}</td>
										<td>{$vo.bonus_point}</td>
										<td>{$vo.universal_point}</td>
										<td>{$vo.re_consume}</td>
										<td>{$vo.gushu}</td>
										<td>{$vo.bz5}</td>
										<td>{$vo.pay_gujia}</td>
										<td>{$vo.cf_count}</td>
										<td>{$vo.shengyu_jing}</td>
										<td>{$vo.shengyu_dong}</td>
										<td></td>
									</tr>
									{/foreach} {/if}

								</tbody>
							</table>
							<div class="tile-widget">
								<button
									type="button"
									class="btn btn-primary"
									id="open_user_list">解锁用户</button>
								<button
									type="button"
									class="btn btn-primary"
									id="close_user_list">锁定用户</button>
								<button
									type="button"
									class="btn btn-primary"
									id="open_apply_user_list">开启提现</button>
								<button
									type="button"
									class="btn btn-primary"
									id="close_apply_user_list">禁止提现</button>
							</div>
						</div>
						<!-- /tile body -->

						<!-- tile footer -->
						<div>{$page}</div>
				</section>
			</div>
		</div>
	</div>
	<!-- /content container -->

</div>
<!-- Page content end -->


<script>
	$(function() {

		// Initialize card flip
		$('.card.hover').hover(function() {
			$(this).addClass('flip');
		}, function() {
			$(this).removeClass('flip');
		});

		// Initialize flot chart
		var d1 = [ [ 1, 1.0 ], [ 2, 1.1 ], [ 3, 1.3 ], [ 4, 2.0 ], [ 5, 1.2 ],
				[ 6, 1.4 ], [ 7, 1.5 ] ];

		var days = [ "03.02", "03.03", "03.04", "03.05", "03.06", "03.07",
				"03.08" ];

		// 股价趋势
		var plot = $.plotAnimator($("#statistics-chart"), [ {
			label : 'Sales',
			data : d1,
			lines : {
				lineWidth : 3
			},
			shadowSize : 0,
			color : '#ffffff'
		}, {
			label : 'Sales',
			data : d1,
			points : {
				show : true,
				fill : true,
				radius : 6,
				fillColor : "rgba(0,0,0,.5)",
				lineWidth : 2
			},
			color : '#fff',
			shadowSize : 0
		} ], {

			xaxis : {

				tickLength : 0,
				tickDecimals : 0,
				min : 1,
				ticks : [ [ 1, "03.02" ], [ 2, "03.03" ], [ 3, "03.04" ],
						[ 4, "03.05" ], [ 5, "03.06" ], [ 6, "03.07" ],
						[ 7, "03.08" ] ],

				font : {
					lineHeight : 24,
					weight : "300",
					color : "#ffffff",
					size : 14
				}
			},

			yaxis : {
				ticks : 4,
				tickDecimals : 0,
				tickColor : "rgba(255,255,255,.3)",

				font : {
					lineHeight : 13,
					weight : "300",
					color : "#ffffff"
				}
			},

			grid : {
				borderWidth : {
					top : 0,
					right : 0,
					bottom : 1,
					left : 1
				},
				borderColor : 'rgba(255,255,255,.3)',
				margin : 0,
				minBorderMargin : 0,
				labelMargin : 20,
				hoverable : true,
				clickable : true,
				mouseActiveRadius : 6
			},

			legend : {
				show : false
			}
		});

		$(window).resize(function() {
			// redraw the graph in the correctly sized div
			plot.resize();
			plot.setupGrid();
			plot.draw();
		});

		$('#mmenu').on("opened.mm", function() {
			// redraw the graph in the correctly sized div
			plot.resize();
			plot.setupGrid();
			plot.draw();
		});

		$('#mmenu').on("closed.mm", function() {
			// redraw the graph in the correctly sized div
			plot.resize();
			plot.setupGrid();
			plot.draw();
		});

		// tooltips showing
		$("#statistics-chart").bind(
				"plothover",
				function(event, pos, item) {
					if (item) {
						var x = item.datapoint[0], y = item.datapoint[1];

						$("#tooltip")
								.html(
										'<h1 style="color: #418bca">'
												+ days[x - 1] + '</h1>'
												+ '<strong>' + y + '</strong>'
												+ ' ' + item.series.label).css(
										{
											top : item.pageY - 30,
											left : item.pageX + 5
										}).fadeIn(200);
					} else {
						$("#tooltip").hide();
					}
				});

		//tooltips options
		$("<div id='tooltip'></div>").css({
			position : "absolute",
			//display: "none",
			padding : "10px 20px",
			"background-color" : "#ffffff",
			"z-index" : "99999"
		}).appendTo("body");

		//generate actual pie charts
		$('.pie-chart').easyPieChart();

		//server load rickshaw chart
		var graph;

		var seriesData = [ [], [] ];
		var random = new Rickshaw.Fixtures.RandomData(50);

		for (var i = 0; i < 50; i++) {
			random.addData(seriesData);
		}

		graph = new Rickshaw.Graph({
			element : document.querySelector("#serverload-chart"),
			height : 150,
			renderer : 'area',
			series : [ {
				data : seriesData[0],
				color : '#6e6e6e',
				name : 'File Server'
			}, {
				data : seriesData[1],
				color : '#fff',
				name : 'Mail Server'
			} ]
		});

		var hoverDetail = new Rickshaw.Graph.HoverDetail({
			graph : graph,
		});

		setInterval(function() {
			random.removeData(seriesData);
			random.addData(seriesData);
			graph.update();

		}, 1000);

		// Morris donut chart
		Morris.Donut({
			element : 'browser-usage',
			data : [ {
				label : "Chrome",
				value : 25
			}, {
				label : "Safari",
				value : 20
			}, {
				label : "Firefox",
				value : 15
			}, {
				label : "Opera",
				value : 5
			}, {
				label : "Internet Explorer",
				value : 10
			}, {
				label : "Other",
				value : 25
			} ],
			colors : [ '#00a3d8', '#2fbbe8', '#72cae7', '#d9544f', '#ffc100',
					'#1693A5' ]
		});

		$('#browser-usage').find("path[stroke='#ffffff']").attr('stroke',
				'rgba(0,0,0,0)');

		//sparkline charts
		$('#projectbar1').sparkline('html', {
			type : 'bar',
			barColor : '#22beef',
			barWidth : 4,
			height : 20
		});
		$('#projectbar2').sparkline('html', {
			type : 'bar',
			barColor : '#cd97eb',
			barWidth : 4,
			height : 20
		});
		$('#projectbar3').sparkline('html', {
			type : 'bar',
			barColor : '#a2d200',
			barWidth : 4,
			height : 20
		});
		$('#projectbar4').sparkline('html', {
			type : 'bar',
			barColor : '#ffc100',
			barWidth : 4,
			height : 20
		});
		$('#projectbar5').sparkline('html', {
			type : 'bar',
			barColor : '#ff4a43',
			barWidth : 4,
			height : 20
		});
		$('#projectbar6').sparkline('html', {
			type : 'bar',
			barColor : '#a2d200',
			barWidth : 4,
			height : 20
		});

		// sortable table
		$('.table.table-sortable th.sortable').click(function() {
			var o = $(this).hasClass('sort-asc') ? 'sort-desc' : 'sort-asc';
			$('th.sortable').removeClass('sort-asc').removeClass('sort-desc');
			$(this).addClass(o);
		});

		//todo's
		$('#todolist li label').click(function() {
			$(this).toggleClass('done');
		});

		// Initialize tabDrop
		$('.tabdrop').tabdrop({
			text : '<i class="fa fa-th-list"></i>'
		});

		//load wysiwyg editor
		$('#quick-message-content').summernote(
				{
					toolbar : [
					//['style', ['style']], // no style button
					[ 'style', [ 'bold', 'italic', 'underline', 'clear' ] ],
							[ 'fontsize', [ 'fontsize' ] ],
							[ 'color', [ 'color' ] ],
							[ 'para', [ 'ul', 'ol', 'paragraph' ] ],
							[ 'height', [ 'height' ] ],
					//['insert', ['picture', 'link']], // no insert buttons
					//['table', ['table']], // no table button
					//['help', ['help']] //no help button
					],
					height : 143
				//set editable area's height
				});

		//multiselect input
		$(".chosen-select").chosen({
			disable_search_threshold : 10
		});

	})
</script>

{/block}
