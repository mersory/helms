 {extend name="base/frontend"} {block name="js"}
<script type="text/javascript" src="_JS_/common/admin/withdrawapply-frontend.js"></script>
{/block} {block name="css"} {/block} {block name="content"}

<!-- Page content -->
<div id="content" class="col-md-12">
	<!-- page header -->
	<div class="pageheader">
		<h2>
			<i class="fa fa-tachometer"></i> 提现申请<span></span>
		</h2>
		<div class="breadcrumbs">
			<ol class="breadcrumb">
				<li><a href="/public/index.php/frontend/common/index">HERMES</a></li>
				<li class="active">提现申请</li>
			</ol>
		</div>
	</div>
	<!-- /page header -->

	<!-- content main container -->
	<div class="main">
		<div class="row">
			<div class="col-md-11">
				<section class="tile color transparent-white">

					<div class="title-body" style="height: 80px;">
						<div class="form-group">
							<label class="col-sm-2 control-label">会员ID</label>
							<div class="col-sm-2">
								<input type="text" readonly="readonly" class="form-control" id="present-userid" value="{$userId}">
							</div>
						</div>
						
						<div class="form-group">
							<label class="col-sm-2 control-label">提现分数</label>
							<div class="col-sm-2">
								<input type="text" class="form-control" id="withdraw">
							</div>
						</div>
						
						<div class="form-group">
							<label class="col-sm-2 control-label">提现类型</label>
							<div class="col-sm-2">
								<div class="input-group-btn">
									<select class="form-control" id="pointtype" name="type" data-province="---- 类型----" >
										<option value="1">奖励分</option>
										<option value="2">注册分</option>
										<option value="3">万能分</option>
									</select> 
									<!--  
									<button type="button" class="btn btn-default dropdown-toggle"
										data-toggle="dropdown" value="1">
										奖励分<span class="caret"></span>
									</button>
									<ul class="dropdown-menu">
										<li><a href="#" value="2">注册分</a></li>
										<li><a href="#" value="3">万能分</a></li>
									</ul>
									-->
								</div>
							</div>
						</div>

						<button type="button" class="btn btn-primary"
									id="withdraw_application">提现</button>
						<span style="margin-left:20px;color:#b16060;">*:提现分数必须为100的整数倍<span>
					</div>
							
					<!-- tile widget -->
					<div class="tile-body bg-transparent-white-2">
						<!-- tile header -->
							<div class="tile-header">
								<h1>
									<strong>提现申请</strong>
								</h1>
								<div class="controls">
									<a href="#" class="refresh"><i class="fa fa-refresh"></i></a>
									<a href="#" class="remove"><i class="fa fa-times"></i></a>
								</div>
							</div>
							<!-- /tile header -->
					

							<!-- tile body -->
							<div class="tile-body no-vpadding">

								<table
								class="table table-custom"
								id="withdraw_list_table">
								<thead>
									<tr>
										<th class="sort-asc">序号</th>
										<th class="sort-asc">会员ID</th>
										<th class="sort-numeric">提现类型</th>
										<th class="sort-amount">提现积分</th>
										<th class="sort-amount">提现金额</th>
										<th class="sort-amount">提现申请时间</th>
										<th class="sort-amount">当前状态</th>
										<th class="sort-amount">开户人姓名</th>
										<th class="sort-amount">开户行</th>
										<th class="sort-amount">开户卡号</th>
										<th class="sort-amount">联系方式</th>
									</tr>
								</thead>
								<tbody>
									{if condition="empty($pass_data) neq true"} {foreach
									name='pass_data' item='vo'}
									<tr>
										<td>{$vo.withdraw_id}</td>
										<td>{$vo.user_id}</td>
										<td>
											{if $vo.withdrawal_type eq 1}
												奖励分
											{elseif $vo.withdrawal_type eq 2}
												注册分
											{elseif $vo.withdrawal_type eq 3}
												万能分
											{else}
												其他
											{/if}
										</td>
										<td>{$vo.point_consume}</td>
										<td>{$vo.withdraw_sum}</td>
										<td>{$vo.apply_time}</td>
										<td>{$vo.withdrawal_status}</td>
										<td>{$vo.bank_account_name}</td>
										<td>{$vo.sub_bank}</td>
										<td>{$vo.bank_account_num}</td>
										<td>{$vo.telphone}</td>
										<td></td>
										<td></td>
									</tr>
									{/foreach} {/if}
								</tbody>

							</div>
							<!-- /tile body -->


							<!-- tile footer -->
							<div>
								{$page}
							</div>
						</div>
				</section>
			</div>
		</div>
	</div>
	<!-- /content container -->

</div>
<!-- Page content end -->
<script>
	$(function() {

		// Initialize card flip
		$('.card.hover').hover(function() {
			$(this).addClass('flip');
		}, function() {
			$(this).removeClass('flip');
		});

		// Initialize flot chart
		var d1 = [ [ 1, 1.0 ], [ 2, 1.1 ], [ 3, 1.3 ], [ 4, 2.0 ], [ 5, 1.2 ],
				[ 6, 1.4 ], [ 7, 1.5 ] ];

		var days = [ "03.02", "03.03", "03.04", "03.05", "03.06", "03.07",
				"03.08" ];

		// 股价趋势
		var plot = $.plotAnimator($("#statistics-chart"), [ {
			label : 'Sales',
			data : d1,
			lines : {
				lineWidth : 3
			},
			shadowSize : 0,
			color : '#ffffff'
		}, {
			label : 'Sales',
			data : d1,
			points : {
				show : true,
				fill : true,
				radius : 6,
				fillColor : "rgba(0,0,0,.5)",
				lineWidth : 2
			},
			color : '#fff',
			shadowSize : 0
		} ], {

			xaxis : {

				tickLength : 0,
				tickDecimals : 0,
				min : 1,
				ticks : [ [ 1, "03.02" ], [ 2, "03.03" ], [ 3, "03.04" ],
						[ 4, "03.05" ], [ 5, "03.06" ], [ 6, "03.07" ],
						[ 7, "03.08" ] ],

				font : {
					lineHeight : 24,
					weight : "300",
					color : "#ffffff",
					size : 14
				}
			},

			yaxis : {
				ticks : 4,
				tickDecimals : 0,
				tickColor : "rgba(255,255,255,.3)",

				font : {
					lineHeight : 13,
					weight : "300",
					color : "#ffffff"
				}
			},

			grid : {
				borderWidth : {
					top : 0,
					right : 0,
					bottom : 1,
					left : 1
				},
				borderColor : 'rgba(255,255,255,.3)',
				margin : 0,
				minBorderMargin : 0,
				labelMargin : 20,
				hoverable : true,
				clickable : true,
				mouseActiveRadius : 6
			},

			legend : {
				show : false
			}
		});

		$(window).resize(function() {
			// redraw the graph in the correctly sized div
			plot.resize();
			plot.setupGrid();
			plot.draw();
		});

		$('#mmenu').on("opened.mm", function() {
			// redraw the graph in the correctly sized div
			plot.resize();
			plot.setupGrid();
			plot.draw();
		});

		$('#mmenu').on("closed.mm", function() {
			// redraw the graph in the correctly sized div
			plot.resize();
			plot.setupGrid();
			plot.draw();
		});

		// tooltips showing
		$("#statistics-chart").bind(
				"plothover",
				function(event, pos, item) {
					if (item) {
						var x = item.datapoint[0], y = item.datapoint[1];

						$("#tooltip")
								.html(
										'<h1 style="color: #418bca">'
												+ days[x - 1] + '</h1>'
												+ '<strong>' + y + '</strong>'
												+ ' ' + item.series.label).css(
										{
											top : item.pageY - 30,
											left : item.pageX + 5
										}).fadeIn(200);
					} else {
						$("#tooltip").hide();
					}
				});

		//tooltips options
		$("<div id='tooltip'></div>").css({
			position : "absolute",
			//display: "none",
			padding : "10px 20px",
			"background-color" : "#ffffff",
			"z-index" : "99999"
		}).appendTo("body");

		//generate actual pie charts
		$('.pie-chart').easyPieChart();

		//server load rickshaw chart
		var graph;

		var seriesData = [ [], [] ];
		var random = new Rickshaw.Fixtures.RandomData(50);

		for (var i = 0; i < 50; i++) {
			random.addData(seriesData);
		}

		graph = new Rickshaw.Graph({
			element : document.querySelector("#serverload-chart"),
			height : 150,
			renderer : 'area',
			series : [ {
				data : seriesData[0],
				color : '#6e6e6e',
				name : 'File Server'
			}, {
				data : seriesData[1],
				color : '#fff',
				name : 'Mail Server'
			} ]
		});

		var hoverDetail = new Rickshaw.Graph.HoverDetail({
			graph : graph,
		});

		setInterval(function() {
			random.removeData(seriesData);
			random.addData(seriesData);
			graph.update();

		}, 1000);

		// Morris donut chart
		Morris.Donut({
			element : 'browser-usage',
			data : [ {
				label : "Chrome",
				value : 25
			}, {
				label : "Safari",
				value : 20
			}, {
				label : "Firefox",
				value : 15
			}, {
				label : "Opera",
				value : 5
			}, {
				label : "Internet Explorer",
				value : 10
			}, {
				label : "Other",
				value : 25
			} ],
			colors : [ '#00a3d8', '#2fbbe8', '#72cae7', '#d9544f', '#ffc100',
					'#1693A5' ]
		});

		$('#browser-usage').find("path[stroke='#ffffff']").attr('stroke',
				'rgba(0,0,0,0)');

		//sparkline charts
		$('#projectbar1').sparkline('html', {
			type : 'bar',
			barColor : '#22beef',
			barWidth : 4,
			height : 20
		});
		$('#projectbar2').sparkline('html', {
			type : 'bar',
			barColor : '#cd97eb',
			barWidth : 4,
			height : 20
		});
		$('#projectbar3').sparkline('html', {
			type : 'bar',
			barColor : '#a2d200',
			barWidth : 4,
			height : 20
		});
		$('#projectbar4').sparkline('html', {
			type : 'bar',
			barColor : '#ffc100',
			barWidth : 4,
			height : 20
		});
		$('#projectbar5').sparkline('html', {
			type : 'bar',
			barColor : '#ff4a43',
			barWidth : 4,
			height : 20
		});
		$('#projectbar6').sparkline('html', {
			type : 'bar',
			barColor : '#a2d200',
			barWidth : 4,
			height : 20
		});

		// sortable table
		$('.table.table-sortable th.sortable').click(function() {
			var o = $(this).hasClass('sort-asc') ? 'sort-desc' : 'sort-asc';
			$('th.sortable').removeClass('sort-asc').removeClass('sort-desc');
			$(this).addClass(o);
		});

		//todo's
		$('#todolist li label').click(function() {
			$(this).toggleClass('done');
		});

		// Initialize tabDrop
		$('.tabdrop').tabdrop({
			text : '<i class="fa fa-th-list"></i>'
		});

		//load wysiwyg editor
		$('#quick-message-content').summernote(
				{
					toolbar : [
					//['style', ['style']], // no style button
					[ 'style', [ 'bold', 'italic', 'underline', 'clear' ] ],
							[ 'fontsize', [ 'fontsize' ] ],
							[ 'color', [ 'color' ] ],
							[ 'para', [ 'ul', 'ol', 'paragraph' ] ],
							[ 'height', [ 'height' ] ],
					//['insert', ['picture', 'link']], // no insert buttons
					//['table', ['table']], // no table button
					//['help', ['help']] //no help button
					],
					height : 143
				//set editable area's height
				});

		//multiselect input
		//$(".chosen-select").chosen({
		//	disable_search_threshold : 10
		//});

	})
</script>
{/block}
